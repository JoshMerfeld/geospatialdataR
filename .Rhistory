library(tidyverse)
library(sf)
library(terra)
library(cowplot)
temp <- read_sf("/Users/Josh/Dropbox/Papers/roads/data/roads/2014/roads2014.shp")
head(temp)
table(temp$fclass)
ggplot(data = temp |> filter(fclass=="motorway")) + geom_sf()
ggplot(data = temp |> filter(fclass=="tertiary")) + geom_sf()
ggplot(data = temp |> filter(fclass=="primary")) + geom_sf()
getwd()
write_sf(temp |> filter(fclass=="primary"), "week2files/indiaprimaryroads.shp")
#| echo: false
#| include: true
#| fig-align: center
roads <- read_sf("week2files/indiaprimaryroads.shp")
roads
vertices <- spatialEco::extract.vertices(roads[1,])
vertices
#| echo: false
#| include: true
#| fig-align: center
vertices <- spatialEco::extract.vertices(roads[1,])
ggplot() +
geom_sf(data = roads[1,], color = "black") +
geom_sf(data = vertices, color = "red", size = 0.5) +
theme_bw()
ggplot() +
geom_sf(data = roads[1,], color = "black") +
geom_sf(data = vertices, color = "red", size = 2) +
theme_bw()
st_length(roads[1,])
st_length(roads[2,])
st_length(roads[3,])
st_length(roads[5,])
st_length(roads[10,])
st_length(roads[15,])
which.max(st_length(roads))
st_length(roads[6280,])
#| echo: false
#| include: true
#| fig-align: center
vertices <- spatialEco::extract.vertices(roads[6280,])
ggplot() +
geom_sf(data = roads[6280,], color = "black") +
geom_sf(data = vertices, color = "red", size = 2) +
theme_bw()
st_transform(st_length(roads[1,]), 24378)
st_length(st_transform(roads[1,]), 24378)
st_length(roads[1,])
st_length(st_transform(roads[1,], 24378))
?plot_grid
#| label: setup
#| include: false
knitr::knit_hooks$set(crop = knitr::hook_pdfcrop)
#| label: setup
#| include: false
knitr::knit_hooks$set(crop = knitr::hook_pdfcrop)
library(tidyverse)
library(sf)
library(terra)
library(cowplot)
kdisgreen <- "#006334"
accent <- "#340063"
accent2 <- "#633400"
kdisgray <- "#A7A9AC"
points <- read_sf("week2files/hotosm_kor_railways_points_shp.shp")
temp <- read_sf("/Users/Josh/Downloads/kmap_2023_120_english_shp/KOR_NAION_AS_영문.shp")
temp
temp <- temp |> filter(NAT_NAM=="KOREA")
temp
ggplot(data = temp) + geom_sf()
View(temp)
ggplot(data = temp[1,]) + geom_sf()
ggplot(data = temp[2,]) + geom_sf()
ggplot(data = temp[1,]) + geom_sf()
ggplot(data = temp[2:nrow(temp),]) + geom_sf()
data$area <- st_area(data)
st_area(data)
temp$area <- st_area(temp)
temp <- temp[-1,]
temp
which.max(temp$area)
ggplot(data = temp[2809,]) + geom_sf()
temp = temp[2809,]
write_sf(temp, "week2files/korea.shp")
korea <- read_sf("week2files/korea.shp")
ggplot() +
geom_sf(data = points, color = kdisgreen, size = 0.5) +
geom_sf(data = korea, fill = NA, color = kdisgray) +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
head(points)
head(points |> select(name, name_en, railway, geometry))
head(points |> select(name, name_en, railway, geometry) |> st_centroids())
points |> select(name, name_en, railway, geometry) |> st_centroids()
head(points |> select(name, name_en, railway, geometry) |> centroids())
head(points |> select(name, name_en, railway, geometry) |> sf_centroids())
points |> st_centroids()
points |> sf::st_centroids()
points |> sp::st_centroids()
head(points |> select(name, name_en, railway, geometry) |> st_centroid())
head(points |> select(name, name_en, railway, geometry) |> st_centroid(), 20)
kable(head(points |> select(name, name_en, railway, geometry) |> st_centroid(), 20))
library(kable)
library(kableExtra)
kable(head(points |> select(name, name_en, railway, geometry) |> st_centroid(), 20))
#| label: setup
#| include: false
knitr::knit_hooks$set(crop = knitr::hook_pdfcrop)
library(tidyverse)
library(sf)
library(terra)
library(cowplot)
library(kableExtra)
kdisgreen <- "#006334"
accent <- "#340063"
accent2 <- "#633400"
kdisgray <- "#A7A9AC"
kable(head(points |> select(name, name_en, railway, geometry) |> st_centroid(), 20))
mat <- head(points |> select(name, name_en, railway, geometry) |> st_centroid(), 20)
mat
mat <- head(points |> select(name, name_en, railway, geometry) |> st_centroid(), 20)[-7,]
kable(mat)
mat
mat <- head(points |> select(name, name_en, railway, geometry) |> st_centroid(), 21)[-7,]
mat
?kable
nyc <- read_sf("week2files/bldg_footprints.shp")
ggplot() +
geom_sf(data = nyc, fill = "white", color = kdisgreen) +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
ggplot() +
geom_sf(data = nyc, fill = "white", color = kdisgreen) +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
nyc
ggplot() +
geom_sf(data = nyc, aes(fill = Height)) +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
ggplot() +
geom_sf(data = nyc, aes(fill = Height)) +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
ggplot() +
geom_sf(data = nyc, aes(fill = Height)) +
theme_fill_distiller("Height (m)", palette = "Spectral") +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
ggplot() +
geom_sf(data = nyc, aes(fill = Height)) +
scale_fill_distiller("Height (m)", palette = "Spectral") +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
ggplot() +
geom_sf(data = nyc, aes(fill = Height), color = NA) +
scale_fill_distiller("Height (m)", palette = "Spectral") +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
ggplot() +
geom_sf(data = nyc, aes(fill = Height), color = NA) +
scale_fill_distiller("Height (m)", palette = "Spectral") +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6)) +
theme(legend.position = c(0.9, 0.1)) +
# make legend smaller
theme(legend.text = element_text(size = 6)) +
theme(legend.title = element_text(size = 6)) +
theme(legend.key.size = unit(0.2, "cm"))
ggplot() +
geom_sf(data = nyc, aes(fill = Height), color = NA) +
scale_fill_distiller("Height (m)", palette = "Spectral") +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6)) +
theme(legend.position = c(0.9, 0.1)) +
# make legend smaller
theme(legend.text = element_text(size = 6)) +
theme(legend.title = element_text(size = 6)) +
theme(legend.key.size = unit(0.2, "cm")) +
# transparent legend background
theme(legend.background = element_rect(fill = "transparent"))
temp <- read_sf("/Users/Josh/Downloads/gmb_adm_ndma_20220901_SHP/gmb_admbnda_adm3_ndma_20220901.shp")
ggplot(temp) + geom_sf()
write_sf(temp, "week2files/gambia.shp")
ggplot() +
geom_sf(data = gambia, color = kdisgreen, size = 0.5) +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
gambia <- read_sf("week2files/gambia.shp")
ggplot() +
geom_sf(data = gambia, color = kdisgreen, size = 0.5) +
theme_bw() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
# smaller axis labels
theme(axis.text = element_text(size = 6))
nrows(gambia)
nrow(gambia)
#| echo: true
#| eval: false
#| crop: true
#| fig-align: center
library(cowplot)
admin2 <- read_sf("week2files/mw2.shp")
admin3 <- read_sf("week2files/mw3.shp")
admin4 <- read_sf("week2files/mw4.shp")
g1 <- ggplot() +
geom_sf(data = admin2, fill = "white", color = "black") +
theme_bw() + labs(subtitle = "A. Admin2")
g2 <- ggplot() +
geom_sf(data = admin3, fill = "white", color = "black") +
theme_bw() + labs(subtitle = "B. Admin3")
g3 <- ggplot() +
geom_sf(data = admin4, fill = "white", color = "black") +
theme_bw() + labs(subtitle = "C. Admin4")
plot_grid(g1, g2, g3, ncol = 3)
temp <- magick::image_read("week2assets/projections.png")
temp
# create single point in the US using WGS84
point1 <- st_sfc(st_point(c(-77.0369, 38.9072)), crs = 4326)
point2 <- st_sfc(st_point(c(-77.0369, 38.9072)), crs = 4269)
ggplot() + geom_sf(data = point1) + geom_sf(data = point2)
st_transform(point2, crs = crs(point1))
st_transform(point2, crs = 4326)
# create single point in the US using WGS84
point1 <- st_sfc(st_point(c(77.0369, 38.9072)), crs = 4326)
point2 <- st_sfc(st_point(c(77.0369, 38.9072)), crs = 4269)
st_transform(point2, crs = 4326)
# create single point in the US using WGS84
point1 <- st_sfc(st_point(c(77.0369, 38.9072)), crs = 4326)
point2 <- st_sfc(st_point(c(77.0369, 38.9072)), crs = 6283)
st_transform(point2, crs = 4326)
point2
point2 <- st_sfc(st_point(c(77.0369, 38.9072)), crs = 1168)
point2 <- st_sfc(st_point(c(77.0369, 38.9072)), crs = 4938)
point2
st_transform(point2, crs = 4326)
ggplot() + geom_sf(data = point1) + geom_sf(data = point2)
# create single point in the US using WGS84
point1 <- st_sfc(st_point(c(70, -20)), crs = 4326)
point2 <- st_sfc(st_point(c(70, -20)), crs = 4938)
ggplot() + geom_sf(data = point1) + geom_sf(data = point2)
?st_point
# Both are latitude/longitude
point1 <- st_sfc(st_point(c(151.21, -33.8688)), crs = 4326)
point2 <- st_sfc(st_point(c(151.21, -33.8688)), crs = 4938)
#| echo: false
#| include: true
#| fig-align: center
#| crop: true
# but they are different points!
ggplot() + geom_sf(data = point1) + geom_sf(data = point2)
# Both are latitude/longitude
point1 <- st_sfc(st_point(c(151.21, -33.8688)), crs = 4326)
point2 <- st_sfc(st_point(c(151.21, -33.8688)), crs = 6203)
point2 <- st_sfc(st_point(c(151.21, -33.8688)), crs = "EPSG:6203")
point2 <- st_sfc(st_point(c(151.21, -33.8688)), crs = 4348)
#| echo: false
#| include: true
#| fig-align: center
#| crop: true
# but they are different points!
ggplot() + geom_sf(data = point1) + geom_sf(data = point2)
point2 <- st_sfc(st_point(c(151.21, -33.8688)), crs = "epsg:4348")
point2 <- st_sfc(st_point(c(151.21, -33.8688)), crs = "epsg:6203")
point2
point2 <- st_sfc(st_point(c(151.21, -33.8688)), crs = "epsg:7844")
point2
point1
#| echo: false
#| include: true
#| fig-align: center
#| crop: true
# but they are different points!
ggplot() + geom_sf(data = point1) + geom_sf(data = point2)
st_transform(point2, crs = 4326)
africa <- read_sf("week2files/Africa_Boundaries.shp")
africa <- read_sf("week2files/Africa_Boundaries.shp")
ggplot() +
geom_sf(data = africa, color = kdisgreen, fill = NA) +
theme_bw()
africa
africa2 <- st_transform(africa, 4326)
africa2
g1 <- ggplot() +
geom_sf(data = africa, color = kdisgreen, fill = NA) +
theme_bw() + labs(subtitle = "A. WGS 84 projected")
g2 <- ggplot() +
geom_sf(data = africa2, color = kdisgreen, fill = NA) +
theme_bw() + labs(subtitle = "B. WGS 84 not projected")
plot_grid(g1, g2)
world <- read_sf("week2files/world-administrative-boundaries.shp")
world
temp <- magick::image_read("week2assets/gcspcs")
temp <- magick::image_read("week2assets/gcspcs.png")
magick::image_ggplot(temp) +
theme_void() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
labs(caption = "Source: ESRI")
temp <- magick::image_read("week2assets/utm.png")
magick::image_ggplot(temp) +
theme_void() +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
labs(caption = "Source: QGIS")
temp <- magick::image_read("week2assets/utmnew.png")
admin2 <- read_sf("week2files/mw2.shp")
admin2
# Geodetic CRS: WGS 84 - lat/lon
crs(admin2)
admin2proj <- st_transform(admin2, 20936)
# It has changed!
crs(admin2proj)
g1 <- ggplot(admin2) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "A. Geographic CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(admin2proj) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(admin2proj) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum=st_crs(20936))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
temp <- read_sf("week2files/chl_admbnda_adm1_bcn_20211008.shp")
g1 <- ggplot(temp) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "A. Geographic CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(temp) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(20936))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
temp$area <- st_area(temp)
temp$area
summary(temp$area)
temp <- read_sf("week2files/state.shp")
temp <- read_sf("week2files/state.shp")
g1 <- ggplot(temp) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "A. Geographic CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(st_transform(temp, 24378)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(24378))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(st_transform(temp, 32643 )) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(32643 ))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
temp <- read_sf("/Users/Josh/Dropbox/Papers/pollution_productivity/data/spatial/village_new/village_new.shp")
crs(temp)
indiacrs <- "PROJCRS[\"Kalianpur 1975 / India zone I\",\n    BASEGEOGCRS[\"Kalianpur 1975\",\n        DATUM[\"Kalianpur 1975\",\n            ELLIPSOID[\"Everest 1830 (1975 Definition)\",6377299.151,300.8017255,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4146]],\n    CONVERSION[\"India zone I (1975 metres)\",\n        METHOD[\"Lambert Conic Conformal (1SP)\",\n            ID[\"EPSG\",9801]],\n        PARAMETER[\"Latitude of natural origin\",32.5,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",68,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.99878641,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",2743195.5,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",914398.5,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Engineering survey, topographic mapping.\"],\n        AREA[\"India - north of 28°N.\"],\n        BBOX[28,70.35,35.51,81.64]],\n    ID[\"EPSG\",24378]]"
g2 <- ggplot(st_transform(temp, indiacrs)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(indiacrs))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
temp <- read_sf("week2files/state.shp")
indiacrs <- "PROJCRS[\"Kalianpur 1975 / India zone I\",\n    BASEGEOGCRS[\"Kalianpur 1975\",\n        DATUM[\"Kalianpur 1975\",\n            ELLIPSOID[\"Everest 1830 (1975 Definition)\",6377299.151,300.8017255,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4146]],\n    CONVERSION[\"India zone I (1975 metres)\",\n        METHOD[\"Lambert Conic Conformal (1SP)\",\n            ID[\"EPSG\",9801]],\n        PARAMETER[\"Latitude of natural origin\",32.5,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",68,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.99878641,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",2743195.5,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",914398.5,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Engineering survey, topographic mapping.\"],\n        AREA[\"India - north of 28°N.\"],\n        BBOX[28,70.35,35.51,81.64]],\n    ID[\"EPSG\",24378]]"
g1 <- ggplot(temp) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "A. Geographic CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(st_transform(temp, indiacrs)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(indiacrs))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(st_transform(temp, 37203)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(37203))
g2 <- ggplot(st_transform(temp, 24347)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(24347))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(st_transform(temp, 24342)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(24342))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(st_transform(temp, 24347)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(24347))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
g2 <- ggplot(st_transform(temp, 24344)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(datum = st_crs(24344))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
?coord_sf
g2 <- ggplot(st_transform(temp, 24344)) +
geom_sf(fill = "white", color = kdisgreen) +
theme_bw() +
labs(subtitle = "B. Projected CRS") +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb")) +
coord_sf(crs = st_crs(24344))
plot_grid(g1, g2) +
theme(plot.background = element_rect(fill = "#f0f1eb", color = "#f0f1eb"))
nroads
roads
roads <- read_sf("week2files/indiaprimaryroads.shp")
crs(roads)
roadsproj <- st_transform(roads, 24344)
crs(roadsproj)
temp <- read_sf("week2files/state.shp")
temp <- rbind(temp, roads)
temp
temp <- rbind(temp |> dplyr::select(geometry), roads |> dplyr::select(geometry))
temp
ggplot(temp) + geom_sf()
